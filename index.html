<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dnim Retsam</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body class="app">

    <div class="mb hide js_debug">
        <input id="tirage" type="hiddenXXX" value="" style="width:100%">
        <div class="d-flex js_form"></div>
    </div>
    
    <ul class="reset text-center js_ecran-commencez">
        <li class="mb">
            <select id="difficulte"></select>
        </li>
        <li class="mb">
            <button class="btn js_btn-commencez">Commencez</button>
        </li>
        <li class="mb">
            <button class="lien d-iflex ai-c gap js_regles">
                <svg width="22px" height="22px" aria-hidden="true" focusable="false">
                    <use xlink:href="#aide"></use>
                </svg>
                Règles
            </button>
        </li>
        <li>
            <input id="theme" type="checkbox" class="switch">
            <label for="theme">
                Thème sombre
                <div></div>
                Thème clair
            </label>
        </li>
    </ul>

    <section class="hide js_ecran-regles">
        <h1>Déchiffrez le code secret</h1>
        <p class="mb2">Découvrir les couleurs et la disposition exacte du code secret</p>
        
        <div class="d-flex mb2">
            <div style="min-width:5rem;">
                <div class="dechiffreur --aide p d-flex ai-c bt bx bb">
                    01
                </div>
                <span class="text-exergue">Essai</span>
            </div>
            <div class="grow">
                <ol class="reset dechiffreur --aide d-flex ai-c gap--crant p bt br bb">
                    <li class="crant code1"></li>
                    <li class="crant code2"></li>
                    <li class="crant code3"></li>
                    <li class="crant code4"></li>
                    <li class="crant code5"></li>
                    <li class="crant code6"></li>
                    <li class="crant code7"></li>
                    <li class="crant code8"></li>
                </ol>
                <span class="text-exergue">Codes</span>
            </div>
            <div>
                <div class="dechiffreur --aide d-flex ai-c p bt br bb">  
                    <ul class="reset p d-flex ai-c gap wrap conteneur-fiche">
                        <li class="fiche --n"></li>
                        <li class="fiche --b"></li>
                        <li class="fiche"></li>
                    </ul> 
                </div>
                <span class="text-exergue">Réponses</span>
            </div>
        </div>

        <h2>Essai :</h2>
        Son nombre varie en fonction de la difficulté

        <h2>Codes :</h2>
        Le nombre de &laquo;codes&raquo; et le nombre de couleurs varient en fonction de la difficulté

        <h2>Réponses :</h2>
        Leur ordre ne correspond pas à celle des &laquo;codes&raquo;, elle apparaisse dans l'ordre :
        <dl class="mb2">
            <dt>Noires :</dt>
            <dd>Bonne couleur, bien placé</dd>
            <dt>Blanc :</dt>
            <dd>Bonne couleur, <strong>mal</strong> placé</dd>
            <dt>Contour pointillé :</dt>
            <dd>Couleur incorrecte</dd>
        </dl>
        
        <div class="text-center">
            <button class="btn js_fermer-regles">
                J'ai compris, fermer les régles
            </button>
        </div>
    </section>


    <ol class="reset bb js_ecran-dechiffreur hide"></ol>
    <template id="manche">
        {{#manche}}
            <li class="d-flex dechiffreur bt bx">
                <div class="p d-flex ai-c br js_dechiffreur__numero">
                    {{#addZero essaiNumero}}
                         {{essaiNumero}}
                    {{/addZero}}
                </div>
                <div class="grow d-flex ai-c p js_dechiffreur__content">
                    {{#ifEquals type "Futur"}}
                        <ol class="reset d-flex ai-c gap--crant">
                            {{#repeat nombreCrant}}
                                <li class="crant"></li>
                            {{/repeat}}
                        </ol>
                    {{/ifEquals}}
                    {{#ifEquals type "Present"}}
                        <ol class="reset d-flex gap">
                            {{#dropdown.crant}}
                                <li class="dropdown">
                                    <button class="crant dropdown__label js_dropdown-label" aria-expanded="false" onClick="dropdown(this)" data-code=""></button>
                                    <ul class="reset hide">
                                        {{#idCouleur}}
                                            <li>
                                                <button class="crant code{{this}}" onClick="choixCouleur(this, {{this}})"></button>
                                            </li>
                                        {{/idCouleur}}
                                    </ul>
                                </li>
                            {{/dropdown.crant}}
                        </ol>
                    {{/ifEquals}}
                    {{#ifEquals type "Passer"}}
                        <ol class="reset d-flex ai-c gap--crant">
                            {{#essai}}
                                <li class="crant code{{idCouleur}}"></li>
                            {{/essai}}
                        </ol>
                    {{/ifEquals}}
                </div>
                {{#ifEquals type "Present"}}
                    <div class="p d-flex ai-c">
                        <button class="btn">Valider</button>
                    </div>
                {{/ifEquals}}
                {{#ifEquals type "Passer"}}
                    <div class="dechiffreur d-flex ai-c p">
                        <ul class="reset p d-flex ai-c gap wrap conteneur-fiche">
                            {{#correction}}
                                <li class="fiche{{ficheType}}"></li>
                            {{/correction}}
                        </ul>
                    </div>
                {{/ifEquals}}
            </li>
        {{/manche}}
    </template>
    




    <section class="text-center js_ecran-recommencez hide">
        <p class="js_message-fin">Message</p>
        <button class="btn js_btn-recommencez">Recommencez</button>
    </section>

    <script src="handlebars.js"></script>
    <script src="script.min.js"></script>

    <svg class="hide" width="0" height="0" aria-hidden="true" focusable="false">
        <symbol id="aide" viewBox="0 0 48.71 49.02">
            <path d="M24.36,0C10.9,0,0,10.16,0,22.69A22.1,22.1,0,0,0,9.08,40.36V49l8.29-4.58a26.27,26.27,0,0,0,7,1c13.45,0,24.35-10.16,24.35-22.7S37.81,0,24.36,0Zm1.75,35.25H22.5V31.64h3.61Zm3.8-13.91c-2,2.08-3.93,3-3.8,6.68H22.5c-.92-5.37,4.82-6.57,5.42-10.84.06-4.69-7.29-4.69-7.23,0H17.07C17.71,4.4,37.4,11,29.91,21.34Z"/>
        </symbol>
    </svg>
</body>
</html>