const BTN_COMMENCER=document.querySelector(".js_btn-commencez"),ECRAN_COMMENCER=document.querySelector(".js_ecran-commencez"),INPUT_SWITCH=(BTN_COMMENCER.addEventListener("click",()=>{ECRAN_COMMENCER.classList.add("hide");var e=DOM_DIFFICULTE_SELECT.value;tirage(e),formulaire(DIFFICULTE[e].crant,DIFFICULTE[e].nbCouleur,CONTENEUR_FORMULAIRE)}),document.getElementById("theme")),PREFERENCE_THEME=localStorage.getItem("mode");function switchTheme(e){e.target.checked?(document.documentElement.setAttribute("data-mode","light"),localStorage.setItem("mode","light")):(document.documentElement.setAttribute("data-mode","dark"),localStorage.setItem("mode","dark"))}PREFERENCE_THEME?(document.documentElement.setAttribute("data-mode",PREFERENCE_THEME),"light"===PREFERENCE_THEME&&(INPUT_SWITCH.checked=!0)):(document.documentElement.setAttribute("data-mode","dark"),localStorage.setItem("mode","dark")),INPUT_SWITCH.addEventListener("change",switchTheme,!1);const DOM_DIFFICULTE_SELECT=document.getElementById("difficulte"),DIFFICULTE={Debug:{crant:3,nbEssai:3,nbCouleur:3},Normal:{crant:4,nbEssai:10,nbCouleur:6},Difficile:{crant:5,nbEssai:12,nbCouleur:8}};for(const c in DIFFICULTE)DOM_DIFFICULTE_SELECT.innerHTML+=`<option value="${c}">${c}</option>`;const DROPDOWNS=document.querySelectorAll(".js_dropdown");for(const d of DROPDOWNS)d.addEventListener("click",()=>{"true"===d.getAttribute("aria-expanded")?(d.setAttribute("aria-expanded","false"),d.parentNode.classList.remove("--ouvert"),d.parentNode.querySelector("ul").classList.add("hide")):(d.setAttribute("aria-expanded","true"),d.parentNode.classList.add("--ouvert"),d.parentNode.querySelector("ul").classList.remove("hide"))});function essaiCombinaison(e){var o=INPUT_TIRAGE.value.split(",");let r=[];for(var t=document.querySelectorAll(".essai-"+e),n=0;n<t.length;n++)r.push(t[n].value);if(JSON.stringify(r)==JSON.stringify(o))gagne();else{let e=0,t=0;console.log("tirage : "+o+"\n combinaison : "+r);for(var E=[],c=[],s=0;s<o.length;s++)o[s]===r[s]?e++:(E.push(o[s]),c.push(r[s]));for(var a=0;a<E.length;a++)if(""!=E[a])for(var d=0;d<c.length;d++)if(E[a]===c[d]){E[a]="",c[d]="",t++;break}console.log("total noir : "+e+"\n total blanc : "+t)}}const CONTENEUR_FORMULAIRE=document.querySelector(".js_form");function formulaire(e,t,o,r){void 0===r&&(r=1);let n="";for(let e=1;e<t+1;e++)n+=`<option value="code${e}">Code ${e}</option>`;let E=0,c="";for(;E<e;)c+=`<select id="essai-${r}-${E}" class="essai-${r}">${n}</select>`,E++;c+=`<button onclick="essaiCombinaison(${r})">Try this</button>`,o.innerHTML=c}const MESSAGE=document.querySelector(".js_message-fin");function gagne(){MESSAGE.innerHTML="GagnÃ© !"}const BTN_RECOMMENCER=document.querySelector(".js_btn-recommencez"),BTN_REGLES=(BTN_RECOMMENCER.addEventListener("click",()=>{ECRAN_COMMENCER.classList.remove("hide")}),document.querySelector(".js_regles")),BTN_FERMER_REGLES=document.querySelector(".js_fermer-regles"),ECRAN_REGLES=document.querySelector(".js_ecran-regles"),ECRAN_DECHIFFREUR=document.querySelector(".js_ecran-dechiffreur"),ECRAN_FIN=document.querySelector(".js_ecran-fin"),COULEURS=(BTN_REGLES.addEventListener("click",()=>{ECRAN_REGLES.classList.remove("hide"),ECRAN_COMMENCER.classList.add("hide"),ECRAN_DECHIFFREUR.classList.add("hide"),ECRAN_FIN.classList.add("hide")}),BTN_FERMER_REGLES.addEventListener("click",()=>{ECRAN_REGLES.classList.add("hide"),ECRAN_COMMENCER.classList.remove("hide"),ECRAN_DECHIFFREUR.classList.remove("hide"),ECRAN_FIN.classList.remove("hide")}),["code1","code2","code3","code4","code5","code6","code7","code8"]),INPUT_TIRAGE=document.getElementById("tirage");let tirage=e=>{var t=DIFFICULTE[e].nbCouleur,o=DIFFICULTE[e].crant;let r=0,n=0,E=[],c=[];for(;r<t;)E.push(COULEURS[r]),r++;for(;n<o;){var s=E[Math.floor(Math.random()*E.length)];c.push(s),n++}INPUT_TIRAGE.value=c};